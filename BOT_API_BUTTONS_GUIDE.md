# ุฏููู ุฅุถุงูุฉ ุงูุฃุฒุฑุงุฑ ุนุจุฑ Bot API

## ๐ฏ ุงููุฏู
ุฅุถุงูุฉ ุงูุฃุฒุฑุงุฑ ุงูุฅููุงูู ููุฑุณุงุฆู ุจุงุณุชุฎุฏุงู Telegram Bot API ูุจุงุดุฑุฉุ ุจุฏูู ุงุณุชุฎุฏุงู Telethon.

## โ ุงููููุฒุงุช

### 1. ุงุณุชุฎุฏุงู Bot API ูุจุงุดุฑุฉ
- โ ูุง ุญุงุฌุฉ ูู Telethon
- โ ุฃุณุฑุน ูุฃูุซุฑ ููุซูููุฉ
- โ ุฃูู ุงุณุชููุงู ููููุงุฑุฏ

### 2. ุทุฑู ูุชุนุฏุฏุฉ ูุฅุถุงูุฉ ุงูุฃุฒุฑุงุฑ
- `editMessageReplyMarkup` - ุฅุถุงูุฉ ุฃุฒุฑุงุฑ ุจุฏูู ุชุบููุฑ ุงููุต
- `editMessageText` - ุชุนุฏูู ุงููุต ูุฅุถุงูุฉ ุฃุฒุฑุงุฑ
- `sendMessage` - ุฅุฑุณุงู ุฑุณุงูุฉ ุฌุฏูุฏุฉ ูุน ุฃุฒุฑุงุฑ

### 3. ุชุทุจูุน ุชููุงุฆู ููุนุฑู ุงูููุงุฉ
- โ ุฅุถุงูุฉ `-100` ุชููุงุฆูุงู ุฅุฐุง ูุงู ููููุฏุงู
- โ ุฏุนู ูุนุฑูุงุช ุงููููุงุช ุงููุฎุชููุฉ
- โ ูุนุงูุฌุฉ ุฃุฎุทุงุก ูุนุฑู ุงูููุงุฉ

## ๐ง ุงูุฏูุงู ุงูุฌุฏูุฏุฉ

### 1. `_add_buttons_via_api()`
ุงูุฏุงูุฉ ุงูุฑุฆูุณูุฉ ูุฅุถุงูุฉ ุงูุฃุฒุฑุงุฑ ุนุจุฑ Bot API

### 2. `_edit_message_with_buttons_via_bot()`
ุฅุถุงูุฉ ุฃุฒุฑุงุฑ ููุฑุณุงูุฉ ุจุฏูู ุชุบููุฑ ุงููุต

### 3. `_get_message_text_via_bot()`
ุงูุญุตูู ุนูู ูุต ุงูุฑุณุงูุฉ ุนุจุฑ Bot API

### 4. `_edit_message_with_text_and_buttons()`
ุชุนุฏูู ุงููุต ูุฅุถุงูุฉ ุงูุฃุฒุฑุงุฑ

### 5. `_send_new_message_with_buttons()`
ุฅุฑุณุงู ุฑุณุงูุฉ ุฌุฏูุฏุฉ ูุน ุฃุฒุฑุงุฑ ูุญุฐู ุงููุฏููุฉ

## ๐งช ุงุฎุชุจุงุฑ ุงููุธููุฉ

### 1. ุงุฎุชุจุงุฑ Bot API:
```bash
python3 test_bot_api_buttons.py
```

### 2. ุงุฎุชุจุงุฑ ุชุทุจูุน ุงููุนุฑู:
```bash
python3 test_chat_id_normalization.py
```

### 3. ูุญุต ุงูุจูุช:
```bash
python3 check_bot_status.py
```

## ๐ ุฎุทูุงุช ุงูุชุดุบูู

### ุงูุฎุทูุฉ 1: ุฅุนุฏุงุฏ ุงูุจูุช
1. ุชุฃูุฏ ูู ุฅูุดุงุก ุงูุจูุช ุนุจุฑ @BotFather
2. ุฃุถู ุงูุจูุช ููููุงุฉ ุงููุฏู
3. ุงููุญ ุงูุจูุช ุตูุงุญูุงุช ูุงููุฉ

### ุงูุฎุทูุฉ 2: ุฅุนุฏุงุฏ ุงูุฃุฒุฑุงุฑ
1. ุงูุชุญ ููุญุฉ ุงูุชุญูู
2. ุงุฐูุจ ูุฅุนุฏุงุฏุงุช ุงููููุฉ
3. ูุนูู ุงูุฃุฒุฑุงุฑ ุงูุฅููุงูู
4. ุฃุถู ุงูุฃุฒุฑุงุฑ ุงููุทููุจุฉ

### ุงูุฎุทูุฉ 3: ุงุฎุชุจุงุฑ ุงููุธููุฉ
```bash
python3 test_bot_api_buttons.py
```

## ๐ ููู ูุนูู ุงููุธุงู

### 1. ุชุทุจูุน ูุนุฑู ุงูููุงุฉ:
```python
# ุงููุนุฑู ุงูุฃุตูู
"2638960177"

# ุงููุนุฑู ุงููุทุจูุน
"-1002638960177"
```

### 2. ุชุญููู ุงูุฃุฒุฑุงุฑ:
```python
# ูู Telethon Button
Button.url("ูุต ุงูุฒุฑ", "ุฑุงุจุท ุงูุฒุฑ")

# ุฅูู Bot API format
{"text": "ูุต ุงูุฒุฑ", "url": "ุฑุงุจุท ุงูุฒุฑ"}
```

### 3. ุฅุถุงูุฉ ุงูุฃุฒุฑุงุฑ:
```python
# ุงูุทุฑููุฉ ุงูุฃููู: ุฅุถุงูุฉ ุฃุฒุฑุงุฑ ููุท
editMessageReplyMarkup

# ุงูุทุฑููุฉ ุงูุซุงููุฉ: ุชุนุฏูู ุงููุต ูุงูุฃุฒุฑุงุฑ
editMessageText

# ุงูุทุฑููุฉ ุงูุซุงูุซุฉ: ุฑุณุงูุฉ ุฌุฏูุฏุฉ
sendMessage
```

## ๐ ุฃูุซูุฉ ุนูู ุงูุงุณุชุฎุฏุงู

### ูุซุงู 1: ุฅุถุงูุฉ ุฃุฒุฑุงุฑ ุจุณูุทุฉ
```python
# ูุนุฑู ุงูููุงุฉ
chat_id = "2638960177"  # ุณูุชู ุชุทุจูุนู ุฅูู -1002638960177

# ูุนุฑู ุงูุฑุณุงูุฉ
message_id = 123

# ุงูุฃุฒุฑุงุฑ
buttons = [
    [{"text": "ุฒุฑ 1", "url": "https://example.com"}],
    [{"text": "ุฒุฑ 2", "url": "https://example2.com"}]
]

# ุฅุถุงูุฉ ุงูุฃุฒุฑุงุฑ
success = await userbot._add_buttons_via_api(chat_id, message_id, buttons, task_id)
```

### ูุซุงู 2: ุฃุฒุฑุงุฑ ูุชุนุฏุฏุฉ ุงูุตููู
```python
buttons = [
    [
        {"text": "ุฒุฑ 1", "url": "https://example.com"},
        {"text": "ุฒุฑ 2", "url": "https://example2.com"}
    ],
    [
        {"text": "ุฒุฑ 3", "url": "https://example3.com"}
    ]
]
```

## ๐๏ธ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

### 1. ุฃุฎุทุงุก ูุนุฑู ุงูููุงุฉ:
- `CHAT_NOT_FOUND` - ุงูููุงุฉ ุบูุฑ ููุฌูุฏุฉ
- `BOT_WAS_BLOCKED` - ุงูุจูุช ูุญุธูุฑ
- `USER_NOT_PARTICIPANT` - ุงูุจูุช ููุณ ุนุถู

### 2. ุฃุฎุทุงุก ุงูุฑุณุงูุฉ:
- `MESSAGE_NOT_MODIFIED` - ุงูุฑุณุงูุฉ ูู ุชุชุบูุฑ
- `MESSAGE_EDIT_TIME_EXPIRED` - ุงูุชูุช ุตูุงุญูุฉ ุงูุชุนุฏูู
- `MESSAGE_TO_EDIT_NOT_FOUND` - ุงูุฑุณุงูุฉ ุบูุฑ ููุฌูุฏุฉ

### 3. ุฃุฎุทุงุก ุงูุตูุงุญูุงุช:
- `CHAT_WRITE_FORBIDDEN` - ูุง ูููู ุงููุชุงุจุฉ ูู ุงูููุงุฉ
- `BOT_WAS_BLOCKED` - ุชู ุญุธุฑ ุงูุจูุช

## ๐ก ูุตุงุฆุญ ูููุฉ

### 1. ุชุฃูุฏ ูู ุงูุตูุงุญูุงุช:
- ุงูุจูุช ูุฌุจ ุฃู ูููู ุนุถู ูู ุงูููุงุฉ
- ุงูุจูุช ูุญุชุงุฌ ุตูุงุญูุฉ ุงููุดุฑ
- ุงูุจูุช ูุญุชุงุฌ ุตูุงุญูุฉ ุชุนุฏูู ุงูุฑุณุงุฆู

### 2. ูุฑุงูุจุฉ ุงูุณุฌูุงุช:
- ุฑุงูุจ ุฑุณุงุฆู ุงูุชุทุจูุน
- ุชุญูู ูู ุฃุฎุทุงุก Bot API
- ุชุฃูุฏ ูู ูุฌุงุญ ุฅุถุงูุฉ ุงูุฃุฒุฑุงุฑ

### 3. ุงุฎุชุจุงุฑ ุงููุธููุฉ:
- ุงุฎุชุจุฑ ูุน ูุนุฑูุงุช ูููุงุช ูุฎุชููุฉ
- ุชุฃูุฏ ูู ุนูู ุงูุฑูุงุจุท
- ุชุญูู ูู ุธููุฑ ุงูุฃุฒุฑุงุฑ

## ๐ง ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ

### 1. ูุญุต ุงูุจูุช:
```bash
python3 check_bot_status.py
```

### 2. ุงุฎุชุจุงุฑ ุงููุนุฑู:
```bash
python3 test_chat_id_normalization.py
```

### 3. ุงุฎุชุจุงุฑ Bot API:
```bash
python3 test_bot_api_buttons.py
```

### 4. ูุญุต ุงูุณุฌูุงุช:
ุงุจุญุซ ุนู ูุฐู ุงูุฑุณุงุฆู:
- `๐ ุชู ุชุทุจูุน ูุนุฑู ุงูููุงุฉ`
- `โ ุชู ุฅุถุงูุฉ ุงูุฃุฒุฑุงุฑ ุจูุฌุงุญ`
- `โ ูุดู ูู ุฅุถุงูุฉ ุงูุฃุฒุฑุงุฑ`

## ๐ ุงูุฏุนู

ุฅุฐุง ููุช ุชุญุชุงุฌ ูุณุงุนุฏุฉ:
1. ุฑุงุฌุน ููู `test_bot_api_buttons.py`
2. ุชุญูู ูู ุตูุงุญูุงุช ุงูุจูุช
3. ุชุฃูุฏ ูู ุตุญุฉ ูุนุฑู ุงูููุงุฉ
4. ุฑุงุฌุน ุงูุณุฌูุงุช ููุฃุฎุทุงุก

---

**ุงูุฎูุงุตุฉ:** ุงููุธุงู ุงูุขู ูุณุชุฎุฏู Bot API ูุจุงุดุฑุฉ ูุฅุถุงูุฉ ุงูุฃุฒุฑุงุฑุ ููู ุฃุณุฑุน ูุฃูุซุฑ ููุซูููุฉ!