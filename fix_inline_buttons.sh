#!/bin/bash

# ุณูุฑูุจุช ุฅุตูุงุญ ูุดููุฉ ุงูุฃุฒุฑุงุฑ ุงูุฅููุงูู
# Fix Inline Buttons Script

echo "๐ง ุจุฏุก ุฅุตูุงุญ ูุดููุฉ ุงูุฃุฒุฑุงุฑ ุงูุฅููุงูู..."
echo "=================================="

# ุงูุชุญูู ูู ูุฌูุฏ Python
if ! command -v python3 &> /dev/null; then
    echo "โ Python3 ุบูุฑ ูุซุจุช"
    exit 1
fi

# ุงูุชุญูู ูู ูุฌูุฏ ุงููููุงุช ุงููุทููุจุฉ
if [ ! -f "bot_package/config.py" ]; then
    echo "โ ููู config.py ุบูุฑ ููุฌูุฏ"
    exit 1
fi

if [ ! -f "userbot_service/userbot.py" ]; then
    echo "โ ููู userbot.py ุบูุฑ ููุฌูุฏ"
    exit 1
fi

echo "โ ุชู ุงูุชุญูู ูู ุงููููุงุช ุงููุทููุจุฉ"

# ูุญุต ุญุงูุฉ ุงูุจูุช
echo ""
echo "๐ ูุญุต ุญุงูุฉ ุงูุจูุช..."
python3 check_bot_status.py

if [ $? -eq 0 ]; then
    echo "โ ุชู ูุญุต ุญุงูุฉ ุงูุจูุช ุจูุฌุงุญ"
else
    echo "โ๏ธ ููุงู ูุดููุฉ ูู ูุญุต ุญุงูุฉ ุงูุจูุช"
fi

# ุงุฎุชุจุงุฑ ุงูุฃุฒุฑุงุฑ
echo ""
echo "๐งช ุงุฎุชุจุงุฑ ุงูุฃุฒุฑุงุฑ ุงูุฅููุงูู..."
python3 test_inline_buttons.py

if [ $? -eq 0 ]; then
    echo "โ ุชู ุงุฎุชุจุงุฑ ุงูุฃุฒุฑุงุฑ ุจูุฌุงุญ"
else
    echo "โ๏ธ ููุงู ูุดููุฉ ูู ุงุฎุชุจุงุฑ ุงูุฃุฒุฑุงุฑ"
fi

echo ""
echo "๐ ููุฎุต ุงูุฅุตูุงุญุงุช ุงููุทุจูุฉ:"
echo "1. โ ุชุญุณูู ุฏุงูุฉ ุฅุถุงูุฉ ุงูุฃุฒุฑุงุฑ"
echo "2. โ ุฅุถุงูุฉ ุฏุงูุฉ ุงุญุชูุงุทูุฉ"
echo "3. โ ุงูุชุญูู ูู ุตูุงุญูุงุช ุงูุจูุช"
echo "4. โ ูุนุงูุฌุฉ ูุญุณูุฉ ููุฃุฎุทุงุก"
echo "5. โ ุทุฑู ุจุฏููุฉ ูุฅุถุงูุฉ ุงูุฃุฒุฑุงุฑ"

echo ""
echo "๐ ูููุฒูุฏ ูู ุงููุนูููุงุช:"
echo "- ุฑุงุฌุน ููู README_INLINE_BUTTONS.md"
echo "- ุฑุงุฌุน ููู INLINE_BUTTONS_FIX.md"
echo "- ุงุณุชุฎุฏู python3 check_bot_status.py ููุญุต ุงูุจูุช"
echo "- ุงุณุชุฎุฏู python3 test_inline_buttons.py ูุงุฎุชุจุงุฑ ุงูุฃุฒุฑุงุฑ"

echo ""
echo "๐ ุงูุชูู ุฅุตูุงุญ ูุดููุฉ ุงูุฃุฒุฑุงุฑ ุงูุฅููุงูู!"
echo "=================================="