
#!/bin/bash

# ุณูุฑูุจุช ุชูุตูุจ ุจูุช ุงูุชูุฌูู ุงูุชููุงุฆู
echo "๐ ุจุฏุก ุชูุตูุจ ุจูุช ุงูุชูุฌูู ุงูุชููุงุฆู..."

# ุงูุชุญูู ูู ูุฌูุฏ Python
if ! command -v python3 &> /dev/null; then
    echo "โ Python 3 ุบูุฑ ูููุตุจ. ูุฑุฌู ุชูุตูุจ Python 3.8 ุฃู ุฃุญุฏุซ"
    exit 1
fi

# ุงูุชุญูู ูู ูุฌูุฏ pip
if ! command -v pip3 &> /dev/null; then
    echo "โ pip3 ุบูุฑ ูููุตุจ. ูุฑุฌู ุชูุตูุจ pip3"
    exit 1
fi

# ุฅูุดุงุก ูุฌูุฏ ุงูุจูุงูุงุช
echo "๐ ุฅูุดุงุก ูุฌูุฏุงุช ุงูุจูุงูุงุช..."
mkdir -p data
mkdir -p watermark_images
mkdir -p attached_assets

# ูุณุฎ ููู ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ
if [ ! -f .env ]; then
    echo "๐ ุฅูุดุงุก ููู ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ..."
    cp .env.example .env
    echo "โ๏ธ  ูุฑุฌู ุชุญุฏูุซ ููู .env ุจุงูููู ุงูุตุญูุญุฉ"
fi

# ุชูุตูุจ ุงูููุชุจุงุช ุงููุทููุจุฉ
echo "๐ฆ ุชูุตูุจ ุงูููุชุจุงุช ุงููุทููุจุฉ..."
pip3 install -r requirements.txt

# ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช
echo "๐๏ธ ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช..."
python3 -c "
from database.database import Database
db = Database()
print('โ ุชู ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจูุฌุงุญ')
"

echo ""
echo "โ ุชู ุชูุตูุจ ุงูุจูุช ุจูุฌุงุญ!"
echo ""
echo "๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ:"
echo "1. ุญุฏุซ ููู .env ุจูุนูููุงุช ุงูุจูุช ุงูุฎุงุต ุจู"
echo "2. ุงุญุตู ุนูู BOT_TOKEN ูู @BotFather"
echo "3. ุงุญุตู ุนูู API_ID ู API_HASH ูู my.telegram.org"
echo "4. ุดุบู ุงูุจูุช ุจุงุณุชุฎุฏุงู: python3 main.py"
echo ""
echo "๐ง ููุญุตูู ุนูู ุงููุณุงุนุฏุฉ:"
echo "- ุงูุฑุฃ ููู README.md"
echo "- ุชุญูู ูู ููู replit.md ููุชูุงุตูู"
echo ""
