
# 🤖 دليل تنصيب بوت التوجيه التلقائي - تليجرام

## 📋 المتطلبات

- Python 3.11 أو أحدث
- اتصال بالإنترنت
- حساب تليجرام

## 🚀 التنصيب السريع

### الطريقة الأولى: التنصيب التلقائي (مُوصى به)

```bash
python install.py
```

### الطريقة الثانية: التنصيب اليدوي

1. **تنصيب المكتبات:**
```bash
pip install -r requirements.txt
```

2. **إعداد متغيرات البيئة:**
```bash
cp .env.example .env
```

3. **تحديث ملف .env بالقيم الصحيحة**

## 🔧 إعداد تليجرام

### 1. إنشاء بوت جديد

1. ابحث عن [@BotFather](https://t.me/BotFather) في تليجرام
2. أرسل `/newbot`
3. اتبع التعليمات لإنشاء البوت
4. احفظ `BOT_TOKEN` الذي سيرسله لك

### 2. الحصول على API Credentials

1. اذهب إلى [my.telegram.org](https://my.telegram.org)
2. سجل دخولك برقم هاتفك
3. اذهب إلى "API Development Tools"
4. أنشئ تطبيق جديد أو استخدم موجود
5. احفظ `API_ID` و `API_HASH`

### 3. تحديث ملف .env

افتح ملف `.env` وحدث القيم التالية:

```env
BOT_TOKEN=123456789:ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789
API_ID=1234567
API_HASH=abcdef123456789abcdef123456789abc
SECRET_KEY=your_secret_key_here
```

## 🚀 تشغيل البوت

### تشغيل النظام الكامل (مُوصى به)
```bash
python run.py
```

### تشغيل البوت فقط
```bash
python main.py
```

### تشغيل لوحة التحكم الويب
```bash
python app.py
```

## 📱 الاستخدام

1. **ابحث عن البوت في تليجرام** باستخدام اسم المستخدم الذي اخترته
2. **ابدأ المحادثة** بإرسال `/start`
3. **سجل دخولك** برقم هاتفك عند الطلب
4. **أنشئ مهام التوجيه** باتباع التعليمات

## 🛠️ المميزات

- ✅ توجيه تلقائي للرسائل
- ✅ فلاتر متقدمة (تكرار، لغة، إدارة)
- ✅ معالجة العلامات المائية
- ✅ دعم جميع أنواع الوسائط
- ✅ لوحة تحكم ويب
- ✅ إعادة تشغيل تلقائي

## 🔧 استكشاف الأخطاء

### خطأ في البوت
```bash
# تحقق من صحة BOT_TOKEN
python -c "import os; print('BOT_TOKEN:', os.getenv('BOT_TOKEN', 'غير موجود'))"
```

### خطأ في UserBot
```bash
# تحقق من API credentials
python -c "import os; print('API_ID:', os.getenv('API_ID', 'غير موجود')); print('API_HASH:', os.getenv('API_HASH', 'غير موجود'))"
```

### مشاكل قاعدة البيانات
```bash
# اختبار قاعدة البيانات
python -c "from database.database import Database; Database()"
```

## 📁 هيكل المشروع

```
telegram-bot/
├── authentication/          # نظام المصادقة
├── bot_package/             # كود البوت الرئيسي
├── conversation_handlers/   # معالجات المحادثات
├── database/               # قاعدة البيانات
├── static/                 # ملفات الويب الثابتة
├── templates/              # قوالب HTML
├── task_management/        # إدارة المهام
├── userbot_service/        # خدمة UserBot
├── watermark_images/       # صور العلامات المائية
├── .env                    # متغيرات البيئة
├── requirements.txt        # المكتبات المطلوبة
├── run.py                  # تشغيل النظام الكامل
└── main.py                 # تشغيل البوت فقط
```

## 🆘 الدعم

إذا واجهت أي مشاكل:

1. تأكد من صحة جميع المتغيرات في ملف `.env`
2. تحقق من اتصالك بالإنترنت
3. تأكد من أن البوت مُفعل في تليجرام
4. راجع ملفات السجل للحصول على تفاصيل الأخطاء

## 📝 ملاحظات مهمة

- **الأمان:** لا تشارك `BOT_TOKEN` أو `API_HASH` مع أحد
- **الجلسات:** ستحتاج لإعادة تسجيل الدخول إذا تغير عنوان IP
- **الحدود:** احترم حدود تليجرام لتجنب القيود المؤقتة
- **النسخ الاحتياطي:** احتفظ بنسخة احتياطية من قاعدة البيانات

---

**تم إنشاؤه بواسطة:** فريق تطوير بوت التوجيه التلقائي
**الإصدار:** 2.0
**التاريخ:** يناير 2025
