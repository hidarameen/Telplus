#!/bin/bash

# ุณูุฑูุจุช ุญู ูุดููุฉ ูุนุฑู ุงูููุงุฉ - ุฑูู ุงููุงุชู
# Fix Chat ID Issue Script

echo "๐ง ุจุฏุก ุญู ูุดููุฉ ูุนุฑู ุงูููุงุฉ..."
echo "=================================="

# ุงูุชุญูู ูู ูุฌูุฏ Python
if ! command -v python3 &> /dev/null; then
    echo "โ Python3 ุบูุฑ ูุซุจุช"
    exit 1
fi

# ุงูุชุญูู ูู ูุฌูุฏ ุงููููุงุช ุงููุทููุจุฉ
if [ ! -f "userbot_service/userbot.py" ]; then
    echo "โ ููู userbot.py ุบูุฑ ููุฌูุฏ"
    exit 1
fi

echo "โ ุชู ุงูุชุญูู ูู ุงููููุงุช ุงููุทููุจุฉ"

# ุงุฎุชุจุงุฑ ุงูุชุญูู ูู ุงููุนุฑูุงุช
echo ""
echo "๐งช ุงุฎุชุจุงุฑ ุงูุชุญูู ูู ูุนุฑูุงุช ุงููููุงุช..."
python3 test_chat_id_validation.py

if [ $? -eq 0 ]; then
    echo "โ ุชู ุงุฎุชุจุงุฑ ุงูุชุญูู ูู ุงููุนุฑูุงุช ุจูุฌุงุญ"
else
    echo "โ๏ธ ููุงู ูุดููุฉ ูู ุงุฎุชุจุงุฑ ุงููุนุฑูุงุช"
fi

# ูุญุต ุญุงูุฉ ุงูุจูุช
echo ""
echo "๐ ูุญุต ุญุงูุฉ ุงูุจูุช..."
python3 check_bot_status.py

if [ $? -eq 0 ]; then
    echo "โ ุชู ูุญุต ุญุงูุฉ ุงูุจูุช ุจูุฌุงุญ"
else
    echo "โ๏ธ ููุงู ูุดููุฉ ูู ูุญุต ุญุงูุฉ ุงูุจูุช"
fi

# ุงุฎุชุจุงุฑ ุงูุฃุฒุฑุงุฑ
echo ""
echo "๐ ุงุฎุชุจุงุฑ ุงูุฃุฒุฑุงุฑ ุงูุฅููุงูู..."
python3 test_inline_buttons.py

if [ $? -eq 0 ]; then
    echo "โ ุชู ุงุฎุชุจุงุฑ ุงูุฃุฒุฑุงุฑ ุจูุฌุงุญ"
else
    echo "โ๏ธ ููุงู ูุดููุฉ ูู ุงุฎุชุจุงุฑ ุงูุฃุฒุฑุงุฑ"
fi

echo ""
echo "๐ ููุฎุต ุงูุฅุตูุงุญุงุช ุงููุทุจูุฉ:"
echo "1. โ ุชุญุณูู ุงูุชุญูู ูู ูุนุฑู ุงูููุงุฉ"
echo "2. โ ูุดู ุฃุฑูุงู ุงูููุงุชู ุชููุงุฆูุงู"
echo "3. โ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ูุน ุฅุฑุดุงุฏุงุช"
echo "4. โ ุฏุนู ูุนุฑูุงุช ุงููููุงุช ุงูุตุญูุญุฉ"
echo "5. โ ูุนุงูุฌุฉ ูุญุณูุฉ ููุฃุฎุทุงุก"

echo ""
echo "๐ก ุงููุดููุฉ ุงูุฃุณุงุณูุฉ:"
echo "   ุงููุธุงู ูุงู ูุญุงูู ุงุณุชุฎุฏุงู ุฑูู ุงููุงุชู 2638960177 ููุนุฑู ููุงุฉ"
echo "   ุงูุจูุช ูุง ูุณุชุทูุน ุงููุตูู ูููููุงุช ุจุงุณุชุฎุฏุงู ุฃุฑูุงู ุงูููุงุชู"

echo ""
echo "๐ง ุงูุญู:"
echo "   ุงุณุชุฎุฏู ูุนุฑู ุงูููุงุฉ ุงูุตุญูุญ ูุซู:"
echo "   - -1001234567890 (ูุนุฑู ููุงุฉ)"
echo "   - @channel_name (ุงุณู ุงูููุงุฉ)"
echo "   - -123456789 (ูุนุฑู ูุฌููุนุฉ)"

echo ""
echo "๐ ูููุฒูุฏ ูู ุงููุนูููุงุช:"
echo "- ุฑุงุฌุน ููู CHAT_ID_FIX.md"
echo "- ุฑุงุฌุน ููู README_INLINE_BUTTONS.md"
echo "- ุงุณุชุฎุฏู python3 test_chat_id_validation.py ูุงุฎุชุจุงุฑ ุงููุนุฑูุงุช"
echo "- ุงุณุชุฎุฏู python3 check_bot_status.py ููุญุต ุงูุจูุช"

echo ""
echo "๐ ุงูุชูู ุญู ูุดููุฉ ูุนุฑู ุงูููุงุฉ!"
echo "=================================="