#!/bin/bash

# ุณูุฑูุจุช ูุญุต ูุฅุตูุงุญ ูุนุฑูุงุช ุงููููุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
# Fix Database Chat IDs Script

echo "๐ง ูุญุต ูุฅุตูุงุญ ูุนุฑูุงุช ุงููููุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช..."
echo "=================================================="

# ุงูุชุญูู ูู ูุฌูุฏ Python
if ! command -v python3 &> /dev/null; then
    echo "โ Python3 ุบูุฑ ูุซุจุช"
    exit 1
fi

# ุงูุชุญูู ูู ูุฌูุฏ ุงููููุงุช ุงููุทููุจุฉ
if [ ! -f "database/database.py" ]; then
    echo "โ ููู database.py ุบูุฑ ููุฌูุฏ"
    exit 1
fi

if [ ! -f "userbot_service/userbot.py" ]; then
    echo "โ ููู userbot.py ุบูุฑ ููุฌูุฏ"
    exit 1
fi

echo "โ ุชู ุงูุชุญูู ูู ุงููููุงุช ุงููุทููุจุฉ"

# ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช
echo ""
echo "๐ ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุจุญุซ ุนู ูุนุฑูุงุช ูููุงุช ุบูุฑ ุตุญูุญุฉ..."
python3 fix_chat_ids_in_database.py

if [ $? -eq 0 ]; then
    echo "โ ุชู ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจูุฌุงุญ"
else
    echo "โ๏ธ ููุงู ูุดููุฉ ูู ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช"
fi

echo ""
echo "๐ ููุฎุต ุงููุดููุฉ ูุงูุญู:"
echo "1. โ ุงููุดููุฉ: ูุนุฑู ุงูููุงุฉ 2638960177 ูู ุฑูู ูุงุชู ูููุณ ูุนุฑู ููุงุฉ"
echo "2. โ ุงูุญู: ุงุณุชุฎุฏู ูุนุฑู ููุงุฉ ุตุญูุญ ูุจุฏุฃ ุจู -100"
echo "3. ๐ง ุงูุฅุตูุงุญ: ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุชุญุฏูุซ ุงููุนุฑูุงุช ุบูุฑ ุงูุตุญูุญุฉ"

echo ""
echo "๐ก ุฃูุซูุฉ ุนูู ูุนุฑูุงุช ุงููููุงุช ุงูุตุญูุญุฉ:"
echo "   - -1001234567890 (ูุนุฑู ููุงุฉ)"
echo "   - @channel_name (ุงุณู ุงูููุงุฉ)"
echo "   - -123456789 (ูุนุฑู ูุฌููุนุฉ)"

echo ""
echo "๐ ูููุฒูุฏ ูู ุงููุนูููุงุช:"
echo "- ุฑุงุฌุน ููู CHAT_ID_FIX.md"
echo "- ุฑุงุฌุน ููู FINAL_SOLUTION.md"
echo "- ุงุณุชุฎุฏู python3 fix_chat_ids_in_database.py ููุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช"
echo "- ุงุณุชุฎุฏู python3 test_chat_id_validation.py ูุงุฎุชุจุงุฑ ุงููุนุฑูุงุช"

echo ""
echo "๐ ุงูุชูู ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช!"
echo "=================================================="